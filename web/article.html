<!DOCTYPE html>
<html>
<head>
	<link rel="stylesheet" type="text/css" href="http://www.jq22.com/jquery/font-awesome.4.6.0.css">
	<link href="css/froala_editor.min.css" rel="stylesheet" type="text/css">
    <meta charset="utf-8">

    <style>
        body {
            text-align: center;
        }

        section {
            width: 80%;
            margin: auto;
            text-align: left;
        }
    </style>
</head>

<body>
    标题<input id="title" type="text">
    &nbsp;选择发布种类<select id ="list"></select>
  <section id="editor">
      <div id='edit' style="margin-top: 30px;">

          <p id="most-body">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec facilisis diam in odio iaculis blandit. Nunc eu mauris sit amet purus viverra gravida ut a dui. Vivamus nec rutrum augue, pharetra faucibus purus. Maecenas non orci sagittis, vehicula lorem et, dignissim nunc. Suspendisse suscipit, diam non varius facilisis, enim libero tincidunt magna, sit amet iaculis eros libero sit amet eros. Vestibulum a rhoncus felis. Nam lacus nulla, consequat ac lacus sit amet, accumsan pellentesque risus. Aenean viverra mi at urna mattis fermentum. Curabitur porta metus in tortor elementum, in semper nulla ullamcorper. Vestibulum mattis tempor tortor quis gravida. In rhoncus risus nibh. Nullam condimentum dapibus massa vel fringilla. Sed hendrerit sed est quis facilisis. Ut sit amet nibh sem. Pellentesque imperdiet mollis libero.</p>
      </div>
  </section>
  <button id="button-add" type="button" class="btn btn-sm btn-primary">提交</button>

  <script src="http://www.jq22.com/jquery/jquery-1.10.2.js"></script>
  <script src="js/froala_editor.min.js"></script>
  <!--[if lt IE 9]>
    <script src="../js/froala_editor_ie8.min.js"></script>
  <![endif]-->
  <script src="js/plugins/tables.min.js"></script>
  <script src="js/plugins/lists.min.js"></script>
  <script src="js/plugins/colors.min.js"></script>
  <script src="js/plugins/media_manager.min.js"></script>
  <script src="js/plugins/font_family.min.js"></script>
  <script src="js/plugins/font_size.min.js"></script>
  <script src="js/plugins/block_styles.min.js"></script>
  <script src="js/plugins/video.min.js"></script>

  <script type="text/javascript">
      var column_index = "1";

      $(function(){
          $('#edit').editable({inlineMode: false, alwaysBlank: true})
      });

      $(document).ready(function(e){
          $.ajax({
              url:"http://localhost:8080/article/getcolumn",
              type:"post",
              dataType:"json",
              success:function(result){
                  var s = "";
                  for(var i = 0;i<result.column.length;i++){
                      //s+="<li><a class=\"column\" id=\"column"+i+"\" style=\"cursor: pointer\">"+result.column[i]+"</a></li>";
                      s+="<option value='"+result.column[i].name+"' class=\"column\" id='"+result.column[i].id+"'><a style=\"cursor: pointer\">"+result.column[i].name+"</a></option>";
                  }
                  $("#list").html(s);
              }
          })
      })

      $(document).on("click","#button-add",function(){
          alert(column_index);
          alert($("#title").val());
          alert($("#most-body").text());
          $.ajax({
              url:"http://localhost:8080/article/addarticle",
              data:{column:column_index,title:$("#title").val(),body:$("#most-body").text(),},
              type:"post",
              dataType:"json",
          });

      });

      $(document).on("click",".column",function(){
          var id = $(this).attr("id");
          column_index = id;
      });

  </script>
</body>
</html>
